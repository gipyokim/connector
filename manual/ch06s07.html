<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta content="text/html; charset=UTF-8" http-equiv="content-type" /><title>7. SharePoint 덤프</title><link href="webhelp.css" rel="stylesheet" type="text/css" /><meta content="DocBook XSL Stylesheets V1.79.1" name="generator" /><link href="index.html" rel="home" title="KONAN Connector V2.1" /><link href="dump.html" rel="up" title="6장. 덤프" /><link href="ch06s06.html" rel="prev" title="6. MongoDB 덤프" /><link href="ch06s08.html" rel="next" title="8. Notes 덤프" /><link href="_wh/jquery-ui.css" rel="stylesheet" type="text/css" /><link href="_wh/wh.css" rel="stylesheet" type="text/css" /><script src="_wh/jquery.min.js" type="text/javascript">
    </script><script src="_wh/jquery-ui.min.js" type="text/javascript">
    </script><script charset="UTF-8" src="_wh/wh.min.js" type="text/javascript">
    </script><script charset="UTF-8" src="_wh/search.js" type="text/javascript">
    </script><link href="_wh/user/header_footer.css" rel="stylesheet" type="text/css" /></head><body>
    <div id="wh-header">
    
  
  
	 <table id="page-header" style="border-spacing: 0; width: 100%; height:63px; background-color:#EDEDED; border-bottom:2px solid #dddddd;">
      <tr>
        <td style="vertical-align: middle; width: 280px; ">
		
		</td>

        <td style="vertical-align: middle;"><h1 id="page-header-title">커넥터 사용자 설명서</h1></td>

        <td style="vertical-align: middle; width: 110px;"> </td>
      </tr>
    </table>

	
</div>

    <div id="wh-body">
      <div id="wh-navigation">
        <ul id="wh-tabs">
          <li id="wh-toc-tab"><a href="#wh-toc-pane"><span>Contents</span></a></li>
          
          <li id="wh-search-tab"><a href="#wh-search-pane"><span>Search</span></a></li>
        </ul>
        <div id="wh-toc-pane">
          <div id="wh-toc-form">
            <span id="wh-toc-control"><a href="#">Collapse 
            All</a><a href="#">Expand All</a></span>
            <button id="wh-toc-previous">Previous</button>
            <button id="wh-toc-next">Next</button>
            <button id="wh-toc-print">Print</button>
          </div>
          <script charset="UTF-8" src="_wh/toc.js" type="text/javascript">
          </script>
        </div>
        
        <div id="wh-search-pane">
          <div id="wh-search-form">
            <input id="wh-search-field" type="text" /><button id="wh-search-button">Search</button><span id="wh-highlight-group"><input checked="checked" id="wh-highlight-toggle" type="checkbox" /><label for="wh-highlight-toggle">Toggle Highlight</label></span>
          </div>
          <div id="wh-search-results">
          </div>
        </div>
      </div>
      <div id="wh-separator">
      </div>
      <div id="wh-content">
      <div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="d0e3167"></a>7. SharePoint 덤프</h2></div></div></div><p>아래는 SharePoint 덤프 실행 예이다.</p><p>옵션에 대한 자세한 설명은 현재 장의 <a class="link" href="dump.html#dump_op">&quot;Start Options, Start Arguments&quot;</a>를 참고한다.</p><h3><a id="d0e3177"></a>덤프 전 작업</h3><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>SPS 서버에 접속하기 위해 sps_source를 설정한다. 계정은 로컬 사용자 계정이 필요하다.</p><pre class="programlisting"><span class="green">----- QA01.rc -----</span>
...
sps_source = {
 url = http://sps:41168/QA01/QATEAM
 domain = QA01
 user = qaadmin
 password = cnsrP!!321
}
...</pre></li><li class="listitem"><p>수집할 사이트와 리스트를 설정한다.</p><p>전체 사이트 및 리스트를 추출하는 방법은 다음과 같다.</p><pre class="programlisting">run.sh -start -l sps QA01 bulk</pre><p>로그상에서 아래와 같은 내용을 확인한다.</p><pre class="programlisting">2017-07-05 05:56:57,558 INFO pool-1-thread-1 Site: 중앙 관리
2017-07-05 05:56:57,591 INFO pool-1-thread-1 List: 공유 문서
2017-07-05 05:56:57,672 INFO pool-1-thread-1 List: 공지 사항
2017-07-05 05:56:57,725 INFO pool-1-thread-1 List: 관리 보고서 라이브러리
2017-07-05 05:56:57,791 INFO pool-1-thread-1 List: 관리자 작업
2017-07-05 05:56:57,816 INFO pool-1-thread-1 List: 리소스
2017-07-05 05:56:57,840 INFO pool-1-thread-1 List: 메일 그룹
2017-07-05 05:56:57,865 INFO pool-1-thread-1 List: 문제 및 솔루션 검토
2017-07-05 05:56:57,927 INFO pool-1-thread-1 List: 사이트 모음 도움말
2017-07-05 05:56:57,955 INFO pool-1-thread-1 List: 사이트 자산
2017-07-05 05:56:57,983 INFO pool-1-thread-1 List: 사이트 페이지
2017-07-05 05:56:58,045 INFO pool-1-thread-1 List: 상태 분석기 규칙 정의
2017-07-05 05:56:58,105 INFO pool-1-thread-1 List: 상태목록임
2017-07-05 05:56:58,156 INFO pool-1-thread-1 List: 스타일 라이브러리
2017-07-05 05:56:58,183 INFO pool-1-thread-1 List: 양식 서식 파일
2017-07-05 05:56:58,212 INFO pool-1-thread-1 List: 일정
2017-07-05 05:56:58,238 INFO pool-1-thread-1 List: 작업 보고서
2017-07-05 05:56:58,263 INFO pool-1-thread-1 List: 콘텐츠 배포 경로
2017-07-05 05:56:58,288 INFO pool-1-thread-1 List: 콘텐츠 배포 작업</pre><p>이후, 수집 대상과 수집 비대상을 설정한다.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>수집 대상 사이트 또는 리스트 설정 (include_site, include_list)</p><pre class="programlisting"><span class="green">----- QA01.rc -----</span>
...
include_list = 공지 사항, 관리자 작업, 메일 그룹
...</pre></li><li class="listitem"><p>수집 제외 사이트 또는 리스트 설정 (exclude_site, exclude_list)</p><pre class="programlisting"><span class="green">----- QA01.rc -----</span>
...
exclude_list = 공유 문서
...</pre></li></ul></div></li><li class="listitem"><p>수집할 필드를 설정한다.</p><p>필드 정보를 추출하는 방법은 다음과 같다. 추출할 사이트/리스트를 지정하고 job을 실행해야 한다.</p><pre class="programlisting"><span class="blue">D:\CNT_201\bin&gt;run.bat -test sps QA01</span>
---------------------------------------------------
ows_FileSizeDisplay      : 8
ows_Order                : 1200.0000000000
ows_DocIcon              : txt
ows_CheckedOutUserId     : 12;#
....</pre><p>field_mapping 설정 시에는 <span class="bold"><strong>'ows_'</strong></span>를 제외하여 작성할 수 있다.</p><pre class="programlisting"><span class="green">----- QA01.rc -----</span>
...
field_mapping = {
 __pk__    =  pkey
 pkey      =  _DOCID
 FileSize  =  FileSizeDisplay 
 Order     =  Order
 DocIcon   =  DocIcon
 ....
}
...</pre></li></ol></div><h3><a id="d0e3233"></a>SharePoint 덤프 수행 예제</h3><pre class="programlisting">run.bat sps QA01 bulk
run.bat sps QA01 inc</pre><p>SPS 덤프 작업 파일 (QA01.rc)에 따라 벌크 작업과 증분 작업을 차례대로 수행한다.</p><div class="figure"><a id="d0e3239"></a><p class="title"><strong>그림 6.8. SharePoint 덤프 수행 예제</strong></p><div class="figure-contents"><div class="mediaobject"><img alt="SharePoint 덤프 수행 예제" src="resources/sps_bulk_inc.png" width="550" /></div></div></div><br class="figure-break" /></div></div>
    </div>

    <div id="wh-footer">
    <p id="page-footer" style="font-family: 'Malgun Gothic',Helvetica,Arial,sans-serif;font-size: 12px; margin-top: 20px;">Copyright <span style="color: #FF8526;">Konan Technology</span> Inc. All Rights Reserved.</p></div>
  </body></html>